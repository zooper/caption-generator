<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lightroom Plugin - AI Caption Studio</title>
    <style>
        /* Theme System */
        :root {
            --primary-gradient: linear-gradient(135deg, #405de6 0%, #fd1d1d 100%);
            --background-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --accent-color: #405de6;
            --accent-rgb: 64, 93, 230;
            --text-primary: #333;
            --text-secondary: #666;
            --card-background: #ffffff;
            --border-color: #e1e5e9;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --hover-shadow: rgba(64, 93, 230, 0.3);
            --success-color: #10b981;
        }
        
        [data-theme="dark"] {
            --primary-gradient: linear-gradient(135deg, #405de6 0%, #fd1d1d 100%);
            --background-gradient: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            --accent-color: #405de6;
            --accent-rgb: 64, 93, 230;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --card-background: #2a2a3e;
            --border-color: #404040;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --hover-shadow: rgba(64, 93, 230, 0.5);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
            background: var(--card-background); 
            color: var(--text-primary); 
            transition: all 0.3s ease;
            line-height: 1.6;
        }
        
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px; 
        }
        
        .header { 
            background: var(--card-background); 
            border-radius: 15px; 
            padding: 30px; 
            margin-bottom: 40px; 
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .header h1 { 
            background: var(--primary-gradient); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text; 
            font-size: 3em; 
            margin-bottom: 10px;
        }
        
        .header-subtitle {
            color: var(--text-secondary);
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        
        .nav-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .nav-link {
            padding: 10px 20px;
            background: var(--card-background);
            color: var(--text-primary);
            text-decoration: none;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        
        .nav-link:hover {
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--hover-shadow);
        }
        
        .content-section {
            background: var(--card-background);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .download-hero {
            text-align: center;
            background: linear-gradient(135deg, #405de6 0%, #fd1d1d 100%);
            color: white;
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 40px;
        }
        
        .download-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .download-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .feature-card {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .feature-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--primary-gradient);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            margin: 10px 0;
            overflow-x: auto;
        }
        
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .warning-icon {
            color: #f39c12;
            margin-right: 10px;
        }
        
        @media (max-width: 768px) {
            .container { padding: 15px; }
            .header h1 { font-size: 2.5em; }
            .nav-links { flex-direction: column; align-items: center; }
            .features-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üì∑ Lightroom Plugin</h1>
            <p class="header-subtitle">Export photos directly from Lightroom Classic to AI Caption Studio</p>
            <div class="nav-links">
                <a href="/" class="nav-link">üè† Home</a>
                <a href="/settings" class="nav-link">‚öôÔ∏è Settings</a>
            </div>
        </header>

        <div class="download-hero">
            <h2 style="margin-bottom: 20px;">üöÄ Download AI Caption Studio Plugin</h2>
            <p style="margin-bottom: 30px; font-size: 1.1em;">Export your photos directly from Lightroom Classic with full metadata support</p>
            <a href="/api/download/lightroom-plugin" class="download-btn">
                üì¶ Download Plugin
                <small style="opacity: 0.8;">(ZIP file)</small>
            </a>
        </div>

        <div class="content-section">
            <h2>‚ú® Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üñºÔ∏è</div>
                    <h3>Direct Export</h3>
                    <p>Export photos directly from Lightroom Classic to AI Caption Studio with one click</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3>Metadata Preservation</h3>
                    <p>Automatically transfers EXIF data, camera settings, keywords, and ratings</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîê</div>
                    <h3>Secure Authentication</h3>
                    <p>Uses API key authentication to securely connect your Lightroom to the web studio</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Batch Processing</h3>
                    <p>Upload multiple photos at once with progress tracking and error handling</p>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üìã Installation Instructions</h2>
            
            <div class="step">
                <span class="step-number">1</span>
                <div>
                    <h3>Download & Extract</h3>
                    <p>Download the plugin ZIP file above and extract it to a folder on your computer.</p>
                </div>
            </div>
            
            <div class="step">
                <span class="step-number">2</span>
                <div>
                    <h3>Install in Lightroom</h3>
                    <p>In Lightroom Classic, go to <strong>File > Plug-in Manager</strong></p>
                    <p>Click <strong>Add</strong> and navigate to the extracted plugin folder</p>
                    <p>Select the <code>AI Caption Studio Export.lrdevplugin</code> folder</p>
                </div>
            </div>
            
            <div class="step">
                <span class="step-number">3</span>
                <div>
                    <h3>Generate API Key</h3>
                    <p>In AI Caption Studio, go to <strong>Settings > API Keys</strong></p>
                    <p>Click <strong>Generate</strong> for the Lightroom Plugin and copy the key</p>
                </div>
            </div>
            
            <div class="step">
                <span class="step-number">4</span>
                <div>
                    <h3>Configure Plugin</h3>
                    <p>In Lightroom, select photos and go to <strong>File > Export</strong></p>
                    <p>Choose <strong>AI Caption Studio Export</strong> as the export location</p>
                    <p>Enter your API endpoint and paste the API key</p>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>‚öôÔ∏è Configuration</h2>
            
            <h3>API Settings</h3>
            <div class="code-block">
API Endpoint: https://ai-caption-studio.jonsson.workers.dev
            </div>
            
            <h3>Export Settings</h3>
            <ul style="margin: 15px 0; padding-left: 20px;">
                <li><strong>File Format:</strong> JPEG (automatically selected)</li>
                <li><strong>Color Space:</strong> sRGB (automatically selected)</li>
                <li><strong>Quality:</strong> High (recommended for AI analysis)</li>
                <li><strong>Temp Folder:</strong> Choose a folder for temporary files during upload</li>
            </ul>
            
        </div>

        <div class="content-section">
            <h2>üîÑ Usage Workflow</h2>
            
            <div class="step">
                <span class="step-number">1</span>
                <div>
                    <h3>Select Photos</h3>
                    <p>In Lightroom Classic, select the photos you want to generate captions for</p>
                </div>
            </div>
            
            <div class="step">
                <span class="step-number">2</span>
                <div>
                    <h3>Export</h3>
                    <p>Go to <strong>File > Export</strong> and choose <strong>AI Caption Studio Export</strong></p>
                    <p>Click <strong>Export</strong> to upload photos with metadata</p>
                </div>
            </div>
            
            <div class="step">
                <span class="step-number">3</span>
                <div>
                    <h3>Generate Captions</h3>
                    <p>In the AI Caption Studio web interface, click <strong>üìÅ Lightroom Images</strong></p>
                    <p>Click <strong>‚ú® Load & Generate</strong> on any uploaded photo</p>
                </div>
            </div>
            
            <div class="step">
                <span class="step-number">4</span>
                <div>
                    <h3>Use Generated Content</h3>
                    <p>Copy the generated captions, hashtags, and alt text for your social media posts</p>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üõ†Ô∏è Troubleshooting</h2>
            
            <h3>Common Issues</h3>
            <ul style="margin: 15px 0; padding-left: 20px;">
                <li><strong>Plugin not appearing:</strong> Make sure you selected the .lrdevplugin folder, not a ZIP file</li>
                <li><strong>Connection failed:</strong> Check your API endpoint URL and ensure the service is running</li>
                <li><strong>Upload errors:</strong> Verify your API key is correct and has not expired</li>
                <li><strong>No image previews:</strong> Old images uploaded before R2 setup won't have previews</li>
            </ul>
            
            <h3>Requirements</h3>
            <ul style="margin: 15px 0; padding-left: 20px;">
                <li>Adobe Lightroom Classic (version 12.0 or later recommended)</li>
                <li>Active internet connection</li>
                <li>Valid AI Caption Studio account and API key</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üìÑ Technical Details</h2>
            
            <h3>Metadata Transferred</h3>
            <ul style="margin: 15px 0; padding-left: 20px;">
                <li>Camera make and model</li>
                <li>Lens information</li>
                <li>Exposure settings (ISO, aperture, shutter speed, focal length)</li>
                <li>Date and time photo was taken</li>
                <li>GPS location data (if available)</li>
                <li>Lightroom keywords, ratings, and color labels</li>
                <li>Title and caption from Lightroom</li>
            </ul>
            
            <h3>File Handling</h3>
            <p>The plugin exports images as JPEG files and uploads them via secure HTTPS connection. Files are stored in cloud storage (R2) with metadata preserved in the database for fast access and caption generation.</p>
        </div>
    </div>

    <script>
        // Theme management (basic version for this page)
        function loadSavedTheme() {
            const savedTheme = localStorage.getItem('selectedTheme') || 'default';
            if (savedTheme !== 'default') {
                document.body.setAttribute('data-theme', savedTheme);
            }
        }
        
        document.addEventListener('DOMContentLoaded', loadSavedTheme);
    </script>
</body>
</html>